{
  "meta": {
    "type": "db",
    "canSave": true,
    "canEdit": true,
    "canAdmin": true,
    "canStar": true,
    "slug": "response-times",
    "url": "/d/dA8tm85nz/response-times",
    "expires": "0001-01-01T00:00:00Z",
    "created": "2022-03-08T10:05:01Z",
    "updated": "2022-05-10T00:01:02Z",
    "updatedBy": "admin",
    "createdBy": "admin",
    "version": 55,
    "hasAcl": false,
    "isFolder": false,
    "folderId": 0,
    "folderUid": "",
    "folderTitle": "General",
    "folderUrl": "",
    "provisioned": false,
    "provisionedExternalId": ""
  },
  "dashboard": {
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": "-- Grafana --",
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations & Alerts",
          "target": {
            "limit": 100,
            "matchAny": false,
            "tags": [],
            "type": "dashboard"
          },
          "type": "dashboard"
        },
        {
          "datasource": "-- Grafana --",
          "enable": true,
          "expr": "",
          "iconColor": "rgba(0, 211, 255, 1)",
          "iconSize": 0,
          "lineColor": "",
          "name": "Annotations & Alerts",
          "query": "",
          "showLine": false,
          "step": "",
          "tagKeys": "",
          "tagsField": "",
          "target": {
            "limit": 100,
            "matchAny": false,
            "tags": [],
            "type": "dashboard"
          },
          "textField": "",
          "textFormat": "",
          "titleFormat": "",
          "type": "dashboard"
        }
      ]
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 0,
    "id": 7,
    "iteration": 1652140843995,
    "links": [],
    "liveNow": false,
    "panels": [
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 0
        },
        "id": 36,
        "panels": [],
        "title": "Lucene index search evaluation times",
        "type": "row"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${query0}"
        },
        "description": "Measures how long it takes for a Lucene index search to take place. \n\nIf a plugin triggers searches that are abnormal in quantity or duration then contact the app vendor to investigate. You can find out which plugin is responsible for the index searches using the invokerPluginKey tag ",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "displayMode": "auto"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 18,
          "w": 12,
          "x": 0,
          "y": 1
        },
        "id": 41,
        "options": {
          "footer": {
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true,
          "sortBy": [
            {
              "desc": true,
              "displayName": "Number of template renders"
            }
          ]
        },
        "pluginVersion": "8.3.6",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${query0}"
            },
            "exemplar": false,
            "expr": "topk(500, avg without (instance, tag_query, category00) (com_atlassian_jira_metrics_Mean{category00=\"search\", name=\"index\"}) )",
            "format": "table",
            "instant": true,
            "interval": "",
            "legendFormat": "",
            "refId": "A"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${query0}"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum without (instance, tag_query, category00) (com_atlassian_jira_metrics_Count{category00=\"search\", name=\"index\"})",
            "format": "table",
            "hide": false,
            "instant": true,
            "interval": "",
            "legendFormat": "",
            "refId": "B"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${query0}"
            },
            "exemplar": false,
            "expr": "max without (instance, tag_query, category00) (com_atlassian_jira_metrics_99thPercentile{category00=\"search\", name=\"index\"})",
            "format": "table",
            "hide": false,
            "instant": true,
            "interval": "",
            "legendFormat": "",
            "refId": "C"
          }
        ],
        "title": "Lucene index search response times (cluster-wide)",
        "transformations": [
          {
            "id": "merge",
            "options": {}
          },
          {
            "id": "organize",
            "options": {
              "excludeByName": {
                "Time": true,
                "job": true,
                "name": true,
                "tag_templateRenderer": true
              },
              "indexByName": {
                "Time": 0,
                "Value #A": 5,
                "Value #B": 6,
                "Value #C": 7,
                "job": 1,
                "name": 2,
                "tag_fromPluginKey": 4,
                "tag_templateRenderer": 3
              },
              "renameByName": {
                "Value #A": "AVG response time (ms)",
                "Value #B": "Number of Lucene index searches",
                "Value #C": "99th response time (ms)",
                "tag_fromPluginKey": "Plugin key",
                "tag_templateName": ""
              }
            }
          }
        ],
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "UKZbfKl7k"
        },
        "description": "Measures how long it takes for a Lucene index search to take place. \n\nIf a plugin triggers searches that are abnormal in quantity or duration then contact the app vendor to investigate. You can find out which plugin is responsible for the index searches using the invokerPluginKey tag ",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "ms"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 1
        },
        "id": 38,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom"
          },
          "tooltip": {
            "mode": "single",
            "sort": "none"
          }
        },
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "UKZbfKl7k"
            },
            "editorMode": "code",
            "expr": "topk(5, com_atlassian_jira_metrics_99thPercentile{category00=\"search\", name=\"index\"})",
            "legendFormat": "{{tag_invokerPluginKey}}",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "lucene index search evaluation time (top 5 p99 - per node)",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "UKZbfKl7k"
        },
        "description": "Measures how long it takes for a Lucene index search to take place. \n\nIf a plugin triggers searches that are abnormal in quantity or duration then contact the app vendor to investigate. You can find out which plugin is responsible for the index searches using the invokerPluginKey tag ",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "ms"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 9
        },
        "id": 36,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom"
          },
          "tooltip": {
            "mode": "single",
            "sort": "none"
          }
        },
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "UKZbfKl7k"
            },
            "editorMode": "code",
            "expr": "(avg by (tag_invokerPluginKey) (com_atlassian_jira_metrics_Mean{category00=\"search\",name=\"index\"}))",
            "legendFormat": "{{tag_invokerPluginKey}}",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "lucene index search evaluation times - (mean - cluster wide)",
        "type": "timeseries"
      },
      {
        "collapsed": false,
        "editable": false,
        "error": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 19
        },
        "id": 16,
        "isNew": false,
        "panels": [],
        "span": 0,
        "title": "Web fragment evaluation times",
        "type": "row"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${query0}"
        },
        "description": "Measures how long web fragment condition will take to determine whether a web fragment should be displayed or not.\n\nWeb fragments conditions determine whether a link or a section on a page should be displayed. Slow web fragment conditions lead to slow page load times especially if they are not cached. Reach out to the app vendor responsible to flag and investigate. ",
        "editable": false,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 5,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineInterpolation": "linear",
              "lineStyle": {
                "fill": ""
              },
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": true,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 60000
                }
              ]
            },
            "unit": "ms"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 20
        },
        "id": 17,
        "isNew": false,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom"
          },
          "tooltip": {
            "mode": "single"
          }
        },
        "span": 0,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${query0}"
            },
            "exemplar": true,
            "expr": "avg without (instance) (com_atlassian_jira_metrics_Mean{category00=\"web\", category01=\"fragment\", name=\"condition\"})",
            "interval": "",
            "legendFormat": "{{tag_fromPluginKey}} - {{tag_conditionClassName}} (condition)",
            "refId": "A"
          }
        ],
        "title": "web fragment condition evaluation time (mean - cluster wide)",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${query0}"
        },
        "description": "Measures how long web fragment condition will take to determine whether a web fragment should be displayed or not.\n\nWeb fragments conditions determine whether a link or a section on a page should be displayed. Slow web fragment conditions lead to slow page load times especially if they are not cached. Reach out to the app vendor responsible to flag and investigate. ",
        "editable": false,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 5,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineInterpolation": "linear",
              "lineStyle": {
                "fill": ""
              },
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": true,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 60000
                }
              ]
            },
            "unit": "ms"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 20
        },
        "id": 6,
        "isNew": false,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom"
          },
          "tooltip": {
            "mode": "single"
          }
        },
        "span": 0,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${query0}"
            },
            "exemplar": true,
            "expr": "topk(5, com_atlassian_jira_metrics_99thPercentile{category00=\"web\", category01=\"fragment\", name=\"condition\"})",
            "interval": "",
            "legendFormat": "{{tag_fromPluginKey}} - {{tag_conditionClassName}} (condition)",
            "refId": "A"
          }
        ],
        "title": "web fragment condition evaluation time (p99 - per node)",
        "type": "timeseries"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 29
        },
        "id": 31,
        "panels": [],
        "title": "Soy web panel render times",
        "type": "row"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${query0}"
        },
        "description": "Measures how long a Soy Template web panel is taking to render.\n\nThe template renderer might be long-running. If there is a plugin with a slow Soy renderer it might be worth adding (tag__templateName) to the query and contacting the vendor responsible to investigate if long-running queries are expected.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "displayMode": "auto"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 18,
          "w": 12,
          "x": 0,
          "y": 30
        },
        "id": 25,
        "options": {
          "footer": {
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true,
          "sortBy": []
        },
        "pluginVersion": "8.3.6",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${query0}"
            },
            "exemplar": false,
            "expr": "topk(500, avg without (instance, tag_templateName) (com_atlassian_jira_metrics_Mean{name=\"webTemplateRenderer\",tag_templateRenderer=\"soy\"}) )",
            "format": "table",
            "instant": true,
            "interval": "",
            "legendFormat": "",
            "refId": "A"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${query0}"
            },
            "exemplar": false,
            "expr": "sum without (instance, tag_templateName) (com_atlassian_jira_metrics_Count{name=\"webTemplateRenderer\",tag_templateRenderer=\"soy\"})",
            "format": "table",
            "hide": false,
            "instant": true,
            "interval": "",
            "legendFormat": "",
            "refId": "B"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${query0}"
            },
            "exemplar": false,
            "expr": "max without (instance, tag_templateName) (com_atlassian_jira_metrics_99thPercentile{name=\"webTemplateRenderer\",tag_templateRenderer=\"soy\"})",
            "format": "table",
            "hide": false,
            "instant": true,
            "interval": "",
            "legendFormat": "",
            "refId": "C"
          }
        ],
        "title": "Soy web panel response times (cluster-wide)",
        "transformations": [
          {
            "id": "merge",
            "options": {}
          },
          {
            "id": "organize",
            "options": {
              "excludeByName": {
                "Time": true,
                "job": true,
                "name": true,
                "tag_templateRenderer": true
              },
              "indexByName": {
                "Time": 0,
                "Value #A": 5,
                "Value #B": 6,
                "Value #C": 7,
                "job": 1,
                "name": 2,
                "tag_fromPluginKey": 4,
                "tag_templateRenderer": 3
              },
              "renameByName": {
                "Value #A": "AVG response time (ms)",
                "Value #B": "Number of template renders",
                "Value #C": "99th response time (ms)",
                "tag_fromPluginKey": "Plugin key",
                "tag_templateName": ""
              }
            }
          }
        ],
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${query0}"
        },
        "description": "Measures how long a Soy Template web panel is taking to render.\n\nThe template renderer might be long running. Contact the vendor responsible and investigate if long running queries are expected.",
        "editable": false,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 5,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineInterpolation": "linear",
              "lineStyle": {
                "fill": ""
              },
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": true,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 60000
                }
              ]
            },
            "unit": "ms"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 30
        },
        "id": 3,
        "isNew": false,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
 